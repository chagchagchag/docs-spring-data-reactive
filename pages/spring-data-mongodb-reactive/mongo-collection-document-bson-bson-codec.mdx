## MongoCollection, Document, BSON, BSON Codec

## MongoCollection 의 다양한 연산들

기본 연산

- [countDocuments](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#countDocuments(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,com.mongodb.client.model.CountOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [CountOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/CountOptions.html) options)
- [find](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#find(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter)
- [aggregate](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#aggregate(java.util.List))([List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> pipeline)
- [watch](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#watch(com.mongodb.reactivestreams.client.ClientSession,java.util.List))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> pipeline)
- [bulkWrite](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#bulkWrite(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.BulkWriteOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [WriteModel](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/WriteModel.html)\<? extends [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html)\>\> requests, [BulkWriteOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/BulkWriteOptions.html) options)
- [insertOne](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#insertOne(com.mongodb.reactivestreams.client.ClientSession,TDocument,com.mongodb.client.model.InsertOneOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html) document, [InsertOneOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/InsertOneOptions.html) options)
- [insertMany](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#insertMany(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.InsertManyOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html)\> documents, [InsertManyOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/InsertManyOptions.html) options)
- [updateOne](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#updateOne(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.UpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [UpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/UpdateOptions.html) options)
- [updateMany](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#updateMany(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.UpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [UpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/UpdateOptions.html) options)

<br/>



atomic 연산

- [findOneAndDelete](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndDelete(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,com.mongodb.client.model.FindOneAndDeleteOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [FindOneAndDeleteOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndDeleteOptions.html) options)
- [findOneAndReplace](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndReplace(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,TDocument,com.mongodb.client.model.FindOneAndReplaceOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html) replacement, [FindOneAndReplaceOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndReplaceOptions.html) options)
- [findOneAndUpdate](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndUpdate(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.FindOneAndUpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [FindOneAndUpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndUpdateOptions.html) options)

<br/>



index 연산

- [createIndexes](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#createIndexes(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.CreateIndexOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, List\<[IndexModel](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/IndexModel.html)\> indexes, [CreateIndexOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/CreateIndexOptions.html) createIndexOptions)
- [listIndexes](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#listIndexes(com.mongodb.reactivestreams.client.ClientSession))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession)
- [dropIndex](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#dropIndex(com.mongodb.reactivestreams.client.ClientSession,java.lang.String,com.mongodb.client.model.DropIndexOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [String](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) indexName, [DropIndexOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/DropIndexOptions.html) dropIndexOptions)

<br/>



### 기본 연산

- [countDocuments](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#countDocuments(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,com.mongodb.client.model.CountOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [CountOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/CountOptions.html) options)

- [find](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#find(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter)
- [aggregate](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#aggregate(java.util.List))([List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> pipeline)
- [watch](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#watch(com.mongodb.reactivestreams.client.ClientSession,java.util.List))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> pipeline)
- [bulkWrite](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#bulkWrite(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.BulkWriteOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [WriteModel](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/WriteModel.html)\<? extends [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html)\>\> requests, [BulkWriteOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/BulkWriteOptions.html) options)
- [insertOne](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#insertOne(com.mongodb.reactivestreams.client.ClientSession,TDocument,com.mongodb.client.model.InsertOneOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html) document, [InsertOneOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/InsertOneOptions.html) options)
- [insertMany](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#insertMany(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.InsertManyOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html)\> documents, [InsertManyOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/InsertManyOptions.html) options)
- [updateOne](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#updateOne(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.UpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [UpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/UpdateOptions.html) options)
- [updateMany](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#updateMany(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.UpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [UpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/UpdateOptions.html) options)

<br/>



#### countDocuments (...)

>  참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
>
> - [countDocuments](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#countDocuments(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,com.mongodb.client.model.CountOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [CountOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/CountOptions.html) options)

Collection 메타 데이터를 이용해서 컬렉션 내의 Document 의 갯수를 반환합니다.

```java
package com.mongodb.client;
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Counts the number of documents in the collection.
     * ...
     */
    long countDocuments(ClientSession clientSession, Bson filter, CountOptions options);
}
```

- [ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) : ClientSession 을 통해서 multi document transaction 을 지원합니다. 
- [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter : Bson 구현채를 이용해서 filter 연산이 가능합니다.
- [CountOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/CountOptions.html) options : hint, limit, skip, maxTime, collation 등과 같은 정보를 Option 으로 넘기는 것이 가능합니다.

<br/>



#### find (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [find](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#find(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter)



```java
package com.mongodb.client;
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Finds all documents in the collection.
     * ...
     */
    FindIterable<TDocument> find(ClientSession clientSession, Bson filter);
}
```

컬렉션 내에서 filter 에 해당되는 모든 도큐먼트들을 불러옵니다.<br/>

- Filters 헬퍼 클래스를 이용해서 eq, ne, gt, gte, lt, lte, in, nin, and, or, not, nor, exists, type, mod, regex, text 등과 같은 연산자들을 사용할 수 있습니다.<br/>

<br/>



#### aggregate (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [aggregate](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#aggregate(java.util.List))([List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> pipeline)



```java
package com.mongodb.client;
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Aggregates documents according to the specified aggregation pipeline.
     * ...
     */
    AggregateIterable<TDocument> aggregate(List<? extends Bson> pipeline);
}
```

<br/>

pipline 에 해당하는 Bson 식들에 대해 필터링, 집계, 그루핑 등과 같은 aggregation  을 수행하니다. 

<br/>



#### watch (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [watch](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#watch(com.mongodb.reactivestreams.client.ClientSession,java.util.List))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> pipeline)



```java
package com.mongodb.client;
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Creates a change stream for this collection.
     * ...
     */
    ChangeStreamIterable<TDocument> watch(ClientSession clientSession, List<? extends Bson> pipeline);
}
```





#### bulkWrite (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [bulkWrite](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#bulkWrite(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.BulkWriteOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [WriteModel](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/WriteModel.html)\<? extends [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html)\>\> requests, [BulkWriteOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/BulkWriteOptions.html) options)



```java
package com.mongodb.client;
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Executes a mix of inserts, updates, replaces, and deletes.
     * ...
     */
    BulkWriteResult bulkWrite(ClientSession clientSession, List<? extends WriteModel<? extends TDocument>> requests,
                              BulkWriteOptions options);
}
```





#### insertOne (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [insertOne](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#insertOne(com.mongodb.reactivestreams.client.ClientSession,TDocument,com.mongodb.client.model.InsertOneOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html) document, [InsertOneOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/InsertOneOptions.html) options)


```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Inserts the provided document. If the document is missing an identifier, the driver should generate one.
     * ...
     */
    InsertOneResult insertOne(ClientSession clientSession, TDocument document, InsertOneOptions options);
}
```






#### insertMany (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [insertMany](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#insertMany(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.InsertManyOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html)\> documents, [InsertManyOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/InsertManyOptions.html) options)


```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Inserts one or more documents.  A call to this method is equivalent to a call to the {@code bulkWrite} method
     * ...
     */
    InsertManyResult insertMany(ClientSession clientSession, List<? extends TDocument> documents, InsertManyOptions options);
}
```



<br/>



#### updateOne (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [updateOne](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#updateOne(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.UpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [UpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/UpdateOptions.html) options)


```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Update a single document in the collection according to the specified arguments.
     * ...
     */
    UpdateResult updateOne(Bson filter, List<? extends Bson> update, UpdateOptions updateOptions);
}
```





<br/>



#### updateMany (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [updateMany](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#updateMany(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.UpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [UpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/UpdateOptions.html) options)

```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Update all documents in the collection according to the specified arguments.
     * ...
     */
    UpdateResult updateMany(ClientSession clientSession, Bson filter, Bson update, UpdateOptions updateOptions);
}
```

<br/>



### atomic 연산

- [findOneAndDelete](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndDelete(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,com.mongodb.client.model.FindOneAndDeleteOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [FindOneAndDeleteOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndDeleteOptions.html) options)
- [findOneAndReplace](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndReplace(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,TDocument,com.mongodb.client.model.FindOneAndReplaceOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html) replacement, [FindOneAndReplaceOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndReplaceOptions.html) options)
- [findOneAndUpdate](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndUpdate(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.FindOneAndUpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [FindOneAndUpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndUpdateOptions.html) options)



#### findOneAndDelete (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [findOneAndDelete](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndDelete(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,com.mongodb.client.model.FindOneAndDeleteOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [FindOneAndDeleteOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndDeleteOptions.html) options)

```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Atomically find a document and remove it.
     * ...
     */
    TDocument findOneAndDelete(ClientSession clientSession, Bson filter, FindOneAndDeleteOptions options);
}
```







<br/>







#### findOneAndReplace (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [findOneAndReplace](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndReplace(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,TDocument,com.mongodb.client.model.FindOneAndReplaceOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [TDocument](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html) replacement, [FindOneAndReplaceOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndReplaceOptions.html) options)

```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Atomically find a document and replace it.
     * ...
     */
    @Nullable
    TDocument findOneAndReplace(ClientSession clientSession, Bson filter, TDocument replacement, FindOneAndReplaceOptions options);
}
```



<br/>





#### findOneAndUpdate(...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [findOneAndUpdate](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#findOneAndUpdate(com.mongodb.reactivestreams.client.ClientSession,org.bson.conversions.Bson,java.util.List,com.mongodb.client.model.FindOneAndUpdateOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html) filter, [List](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)\<? extends [Bson](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/bson/org/bson/conversions/Bson.html)\> update, [FindOneAndUpdateOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/FindOneAndUpdateOptions.html) options)

```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Atomically find a document and update it.
     * ...
     */
    @Nullable
    TDocument findOneAndUpdate(Bson filter, List<? extends Bson> update, FindOneAndUpdateOptions options);
}
```

<br/>



### index 연산

- [createIndexes](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#createIndexes(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.CreateIndexOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, List\<[IndexModel](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/IndexModel.html)\> indexes, [CreateIndexOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/CreateIndexOptions.html) createIndexOptions)
- [listIndexes](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#listIndexes(com.mongodb.reactivestreams.client.ClientSession))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession)
- [dropIndex](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#dropIndex(com.mongodb.reactivestreams.client.ClientSession,java.lang.String,com.mongodb.client.model.DropIndexOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [String](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) indexName, [DropIndexOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/DropIndexOptions.html) dropIndexOptions)

<br/>





#### createIndexes (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [createIndexes](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#createIndexes(com.mongodb.reactivestreams.client.ClientSession,java.util.List,com.mongodb.client.model.CreateIndexOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, List\<[IndexModel](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/IndexModel.html)\> indexes, [CreateIndexOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/CreateIndexOptions.html) createIndexOptions)


```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Create multiple indexes.
     * ...
     */
    List<String> createIndexes(ClientSession clientSession, List<IndexModel> indexes, CreateIndexOptions createIndexOptions);
}
```



<br/>





#### listIndexes (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [listIndexes](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#listIndexes(com.mongodb.reactivestreams.client.ClientSession))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession)



```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Get all the indexes in this collection.
     * ...
     */
    ListIndexesIterable<Document> listIndexes(ClientSession clientSession);
}
```



<br/>





#### dropIndex (...)

> 참고
>
> - [MongoCollection.java](https://github.com/mongodb/mongo-java-driver/blob/master/driver-sync/src/main/com/mongodb/client/MongoCollection.java)
> - [dropIndex](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/MongoCollection.html#dropIndex(com.mongodb.reactivestreams.client.ClientSession,java.lang.String,com.mongodb.client.model.DropIndexOptions))([ClientSession](https://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-reactivestreams/com/mongodb/reactivestreams/client/ClientSession.html) clientSession, [String](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) indexName, [DropIndexOptions](http://mongodb.github.io/mongo-java-driver/5.0/apidocs/mongodb-driver-core/com/mongodb/client/model/DropIndexOptions.html) dropIndexOptions)

<br/>

```java
package com.mongodb.client;
// ...
@ThreadSafe
public interface MongoCollection<TDocument> {
    /** 
     * Drops the index given its name.
     * ...
     */
    void dropIndex(ClientSession clientSession, String indexName, DropIndexOptions dropIndexOptions);
}
```

<br/>



## Document

<br/>



## BSON, BSON Codec

<br/>



