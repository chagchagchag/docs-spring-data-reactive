(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{3394:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spring-data-r2dbc/r2dbc-repository",function(){return a(1095)}])},1095:function(e,r,a){"use strict";a.r(r),a.d(r,{__toc:function(){return d},default:function(){return p}});var n=a(5893),t=a(2673),i=a(373),o=a(8426);a(9128);var s=a(2643),c={src:"/docs-spring-data-reactive/_next/static/media/hierarchy.233ec7f9.png",height:588,width:1332,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAAAAACWpiEsAAAAJUlEQVR42gWAhxEAIAgDs/++FojkPcHsAWR31bGV9H1JBGcN4QM3Sh+Chuq6XQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4};let d=[{depth:2,value:"R2dbcRepository",id:"r2dbcrepository"},{depth:2,value:"Component Scan",id:"component-scan"},{depth:2,value:"SimpleReactiveR2dbcRepository",id:"simplereactiver2dbcrepository"},{depth:2,value:"save 연산 (insert, update 연산)",id:"save-연산-insert-update-연산"},{depth:2,value:"조회 연산 (find 연산)",id:"조회-연산-find-연산"},{depth:2,value:"삭제 연산 (delete 연산)",id:"삭제-연산-delete-연산"}];function _createMdxContent(e){let r=Object.assign({h2:"h2",p:"p",img:"img",a:"a",ul:"ul",li:"li",pre:"pre",code:"code",span:"span"},(0,s.a)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h2,{id:"r2dbcrepository",children:"R2dbcRepository"}),"\n",(0,n.jsx)(r.p,{children:"JPA 에서 흔히 사용하던 Repository 와 유사하게 R2dbc 에서도 Repository 기반의 Data 접근 계층의 코드를 작성하는 것이 가능합니다."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{placeholder:"blur",src:c})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.a,{href:"https://chagchagchag.github.io/docs-spring-data-reactive/spring-data-mongodb-reactive/reactive-mongo-repository/",children:"ReactiveMongoRepository 문서"})," 에서 살펴봤던 상속 계층도에서 R2dbcRepository 와 SimpleR2dbcRepository 만 다르고 계층도가 비슷합니다.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsx)(r.p,{children:"참고"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://docs.spring.io/spring-data/r2dbc/docs/current/api/org/springframework/data/r2dbc/repository/support/SimpleR2dbcRepository.html",children:"SimpleR2dbcRepository<T,ID>"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/ReactiveCrudRepository.html",children:"ReactiveCrudRepository<T,ID>"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/ReactiveQueryByExampleExecutor.html",children:"ReactiveQueryByExampleExecutor<T>"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/ReactiveSortingRepository.html",children:"ReactiveSortingRepository<T,ID>"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/Repository.html",children:"Repository<T,ID>"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(r.h2,{id:"component-scan",children:"Component Scan"}),"\n",(0,n.jsx)(r.p,{children:"여러 종류의 Repository 를 사용할 경우가 있는데, 각각의 종류 별로 아래와 같이 리포지터리를 스캔할 수 있도록 설정해줍니다. 아래에서는 ReactiveMongoRepository 와 R2dbc의 컴포넌트 스캔 패키지를 각각 별도로 지정해주었습니다. 실제로 R2dbc, Reactive Mongo 를 함께 쓰는 경우가 많을 수 있기에 아래와 같이 스캔 대상을 명확히 지정해주는 것이 좋습니다."}),"\n",(0,n.jsx)(r.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(r.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"EnableReactiveMongoRepositories"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"EnableR2dbcRepositories"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    basePackages "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" {"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"io.chagchagchag.example.r2dbc_example"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootApplication"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"R2dbcExampleApplication"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"main"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"[] args) {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"SpringApplication"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"run"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"R2dbcExampleApplication"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" args);"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"	}"})}),"\n",(0,n.jsx)(r.span,{className:"line",children:" "}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsxs)(r.p,{children:["멀티 모듈 기반으로 프로젝트를 새로 구성 시에 컴포넌트를 스캔할 수 없다는 에러가 나오기도 하는데, 위와 같이 ",(0,n.jsx)(r.code,{children:"@Enable***Repositories"})," 를 명시하지 않아서 나는 에러인 경우가 자주 있습니다. 이 경우에는 위의 코드 처럼 반드시 ",(0,n.jsx)(r.code,{children:"@Enable***Repositories"})," 를 추가해서 리포지터리를 스캔 대상에 추가해두었는지를 확인해주시면 됩니다.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(r.h2,{id:"simplereactiver2dbcrepository",children:"SimpleReactiveR2dbcRepository"}),"\n",(0,n.jsx)(r.h2,{id:"save-연산-insert-update-연산",children:"save 연산 (insert, update 연산)"}),"\n",(0,n.jsx)(r.h2,{id:"조회-연산-find-연산",children:"조회 연산 (find 연산)"}),"\n",(0,n.jsx)(r.h2,{id:"삭제-연산-delete-연산",children:"삭제 연산 (delete 연산)"})]})}let l={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.a)(),e.components);return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/spring-data-r2dbc/r2dbc-repository.mdx",route:"/spring-data-r2dbc/r2dbc-repository",timestamp:1712022498e3,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive",children:[{kind:"MdxPage",name:"aggregation-pipeline",route:"/spring-data-mongodb-reactive/aggregation-pipeline"},{kind:"MdxPage",name:"document-bson-bson-codec",route:"/spring-data-mongodb-reactive/document-bson-bson-codec"},{kind:"MdxPage",name:"entity",route:"/spring-data-mongodb-reactive/entity"},{kind:"MdxPage",name:"mongo-collection-functions",route:"/spring-data-mongodb-reactive/mongo-collection-functions"},{kind:"MdxPage",name:"mongodb-features",route:"/spring-data-mongodb-reactive/mongodb-features"},{kind:"MdxPage",name:"mongodb-reactive-streams-driver",route:"/spring-data-mongodb-reactive/mongodb-reactive-streams-driver"},{kind:"MdxPage",name:"mongodb-tools",route:"/spring-data-mongodb-reactive/mongodb-tools"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-mongodb-reactive/query-methods"},{kind:"MdxPage",name:"reactive-mongo-operation",route:"/spring-data-mongodb-reactive/reactive-mongo-operation"},{kind:"MdxPage",name:"reactive-mongo-repository",route:"/spring-data-mongodb-reactive/reactive-mongo-repository"},{kind:"MdxPage",name:"reactive-mongo-template",route:"/spring-data-mongodb-reactive/reactive-mongo-template"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-mongodb-reactive/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-mongodb-reactive/transactional-transactional-operator"},{kind:"Meta",data:{"mongodb-features":"MongoDB Features","mongodb-tools":"MongoDB 접근 도구들","mongodb-reactive-streams-driver":"MongoDB Reactive Streams Driver","mongo-collection-functions":"MongoCollection 의 다양한 연산들","document-bson-bson-codec":"Document, BSON, BSON Codec",entity:"Entity","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객채생성 방식과 매핑방식","reactive-mongo-template":"ReactiveMongoTemplate","reactive-mongo-operation":"ReactiveMongoOperation","reactive-mongo-repository":"ReactiveMongoRepository","query-methods":"Query 메서드","aggregation-pipeline":"Aggregation Pipeline","transactional-transactional-operator":"@Transactional, TransactionalOperator"}}]},{kind:"MdxPage",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive"},{kind:"Folder",name:"spring-data-r2dbc",route:"/spring-data-r2dbc",children:[{kind:"MdxPage",name:"entity-mysql-type-mapping",route:"/spring-data-r2dbc/entity-mysql-type-mapping"},{kind:"MdxPage",name:"example-mysql-docker-container",route:"/spring-data-r2dbc/example-mysql-docker-container"},{kind:"MdxPage",name:"jdbc-jpa-vs-r2dbc",route:"/spring-data-r2dbc/jdbc-jpa-vs-r2dbc"},{kind:"MdxPage",name:"mysql-features",route:"/spring-data-r2dbc/mysql-features"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-r2dbc/query-methods"},{kind:"MdxPage",name:"r2dbc-drivers-r2dbc-spi",route:"/spring-data-r2dbc/r2dbc-drivers-r2dbc-spi"},{kind:"MdxPage",name:"r2dbc-entity-template-r2dbc-entity-operations",route:"/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations"},{kind:"MdxPage",name:"r2dbc-repository",route:"/spring-data-r2dbc/r2dbc-repository"},{kind:"MdxPage",name:"simple-r2dbc-code",route:"/spring-data-r2dbc/simple-r2dbc-code"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-r2dbc/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-r2dbc/transactional-transactional-operator"},{kind:"Meta",data:{"mysql-features":"MySQL 특징","jdbc-jpa-vs-r2dbc":"JDBC, JPA 와의 차이점","r2dbc-drivers-r2dbc-spi":"R2DBC 드라이버, R2DBC SPI, Connection 설정","simple-r2dbc-code":"R2DBC 기반 Raw 레벨 코드, Transaction","entity-mysql-type-mapping":"Entity, MySQL 타입 매핑","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객체생성 방식과 필드 매핑방식","r2dbc-repository":"R2dbcRepository","query-methods":"Query Methods","transactional-transactional-operator":"@Transactional, TransactionalOperator","r2dbc-entity-template-r2dbc-entity-operations":"R2dbcEntityTemplate, R2dbcEntityOperations","example-mysql-docker-container":"예제 용도의 MySQL Docker Container"}}]},{kind:"MdxPage",name:"spring-data-r2dbc",route:"/spring-data-r2dbc"},{kind:"Folder",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive",children:[{kind:"MdxPage",name:"known-cache-strategies",route:"/spring-data-redis-reactive/known-cache-strategies"},{kind:"MdxPage",name:"redis-data-structures",route:"/spring-data-redis-reactive/redis-data-structures"},{kind:"MdxPage",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive/spring-data-redis-reactive"},{kind:"Meta",data:{"redis-data-structures":"레디스 자료구조들","spring-data-redis-reactive":"Spring Data Redis Reactive","known-cache-strategies":"캐싱전략의 종류"}}]},{kind:"MdxPage",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive"},{kind:"Meta",data:{index:"Introduction","spring-data-r2dbc":"Spring Data R2dbc","spring-data-mongodb-reactive":"Spring Data MongoDB Reactive","spring-data-redis-reactive":"Spring Data Redis Reactive",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"R2dbc Repository",headings:d},pageNextRoute:"/spring-data-r2dbc/r2dbc-repository",nextraLayout:i.ZP,themeConfig:o.Z};var p=(0,t.j)(l)},8426:function(e,r,a){"use strict";var n=a(5893);a(7294);let t={logo:(0,n.jsx)("span",{children:"Docs Spring Data Reactive"}),project:{link:"https://github.com/chagchagchag/docs-spring-data-reactive"},docsRepositoryBase:"https://github.com/chagchagchag/docs-spring-data-reactive",footer:{text:"Nextra Docs Template"}};r.Z=t},5789:function(){}},function(e){e.O(0,[774,796,888,179],function(){return e(e.s=3394)}),_N_E=e.O()}]);