(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{8744:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations",function(){return n(6450)}])},6450:function(e,t,n){"use strict";n.r(t),n.d(t,{__toc:function(){return h},default:function(){return u}});var a=n(5893),i=n(2673),r=n(373),d=n(8426);n(9128);var s=n(2643),o={src:"/docs-spring-data-reactive/_next/static/media/hierarchy.751b7e1d.png",height:676,width:947,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAAAAADbboAnAAAAMklEQVR42g3IwRHAMAwCMO8/bq9tDMSQ6KkaYjUxRQENsTL6v4krW404dzaW7zh6H8YH9ZQvFLQIaj0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:6},c={src:"/docs-spring-data-reactive/_next/static/media/reactive-insert-operation-2.6ff0df81.png",height:139,width:387,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAAAAACLoxGUAAAAIklEQVR42gVAwQkAQAhy/1XvdZgIQRnYmOwEce2Qgb4lvjo7kxc2yU8y7QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3},l={src:"/docs-spring-data-reactive/_next/static/media/reactive-insert-operation-1.54b39b15.png",height:1222,width:963,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAIAAABVpBlvAAAAlklEQVR42gUASw/BMLhHEQlHxB617ms7/dbWrCaWecSFA4vEDshid/7/VYjlgkEqlQYuQkqDcE7KQlWllomdhdjr0/GEktNRNQ/ddXjYq+vNGMtINIVMi/qu6zpqGsZFRBDT3OL5knx/3nDk9weUGIDt2rxb92nV87WsdoKgkC6zxWaVO6fNAiAgEg3IlMeScfSD2PPZHxw5G3dOUtOaAAAAAElFTkSuQmCC",blurWidth:6,blurHeight:8},p={src:"/docs-spring-data-reactive/_next/static/media/reactive-select-operation-2.2a90843e.png",height:615,width:1190,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAAAAACWpiEsAAAAJ0lEQVR42g3FuQEAIAwDMe+/L58vwaBGcnESrDb2mKj/xSrdsBPOAzTUH2KqR4vHAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4},g={src:"/docs-spring-data-reactive/_next/static/media/reactive-select-operation-1.e8219d35.png",height:1762,width:1051,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAIAAAC+k6JsAAAAgElEQVR42gUAuQqDMPT9RFUqSftSkhpy9hKKoL3sKDoo6JhuTvr/S4H6Y7vOv95KG640h3sup0n1g2hbUX85ZMfT85H1Ay2rXZwgeO8ADuFHL1fcRAz2RIcgl4XfcrFNEdLEzrNeV1EUglAEK1XTnMfRlZWIYgStjPNOGYuMEYp/WD4YWP15JMgAAAAASUVORK5CYII=",blurWidth:5,blurHeight:8};let h=[{depth:2,value:"R2dbcEntityTemplate, R2dbcEntityOperations",id:"r2dbcentitytemplate-r2dbcentityoperations"},{depth:2,value:"FluentR2dbcOperations",id:"fluentr2dbcoperations"},{depth:3,value:"insert 쿼리 (ReactiveInsertOperation)",id:"insert-쿼리-reactiveinsertoperation"},{depth:3,value:"내부 정의",id:"내부-정의"},{depth:3,value:"into 쿼리",id:"into-쿼리"},{depth:3,value:"using 쿼리",id:"using-쿼리"},{depth:3,value:"e.g.",id:"eg"},{depth:3,value:"select 쿼리 (ReactiveSelectOperation)",id:"select-쿼리-reactiveselectoperation"},{depth:3,value:"내부 정의",id:"내부-정의-1"},{depth:3,value:"from 쿼리",id:"from-쿼리"},{depth:3,value:"as 쿼리",id:"as-쿼리"},{depth:3,value:"matching 쿼리",id:"matching-쿼리"},{depth:3,value:"termination 쿼리",id:"termination-쿼리"},{depth:3,value:"e.g.",id:"eg-1"},{depth:3,value:"update 쿼리 (ReactiveUpdateOperation)",id:"update-쿼리-reactiveupdateoperation"},{depth:3,value:"delete 쿼리 (ReactiveDeleteOperation)",id:"delete-쿼리-reactivedeleteoperation"},{depth:2,value:"R2dbcEntityOperations",id:"r2dbcentityoperations"}];function _createMdxContent(e){let t=Object.assign({h2:"h2",p:"p",img:"img",ul:"ul",li:"li",h3:"h3",pre:"pre",code:"code",span:"span",a:"a"},(0,s.a)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"r2dbcentitytemplate-r2dbcentityoperations",children:"R2dbcEntityTemplate, R2dbcEntityOperations"}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h2,{id:"fluentr2dbcoperations",children:"FluentR2dbcOperations"}),"\n",(0,a.jsxs)(t.p,{children:["R2dbcEntityTemplate 은 R2dbcEntityOperations interface 를 implements 합니다. 그리고 R2dbcEntityOperations 는 FluentR2dbcOperations 를 extends 하고 있습니다. FluentR2dbcOperations 는 ReactiveInsertOperation, ReactiveUpdateOperation, ReactiveSelectOperation, ReactiveDeleteOperation 등의 interface 를 통해 풍부한 연산들을 제공합니다.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{placeholder:"blur",src:o})}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"ReactiveInsertOperation : Database 의 insert 쿼리에 해당되는 R2dbc 메서드 들을 제공"}),"\n",(0,a.jsx)(t.li,{children:"ReactiveSelectOperation : Database 의 select 쿼리에 해당되는 R2dbc 메서드 들을 제공"}),"\n",(0,a.jsx)(t.li,{children:"ReactiveUpdateOperation : Database 의 update 쿼리에 해당하는 R2dbc 메서드 들을 제공"}),"\n",(0,a.jsx)(t.li,{children:"ReactiveDeleteOperation : Database 의 delete 쿼리에 해당하는 R2dbc 메서드 들을 제공"}),"\n"]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"insert-쿼리-reactiveinsertoperation",children:"insert 쿼리 (ReactiveInsertOperation)"}),"\n",(0,a.jsx)(t.p,{children:"Insert 쿼리는 아래와 같은 방식으로 체이닝을 거칠수 있습니다."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{placeholder:"blur",src:c})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"insert → into → using"}),"\n",(0,a.jsx)(t.li,{children:"insert → using"}),"\n"]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"내부-정의",children:"내부 정의"}),"\n",(0,a.jsx)(t.p,{children:"ReactiveInsertOperation 의 소스코드를 보면 아래와 같이 되어 있습니다. ReactiveInsertOperation 의 진입점은 insert() 메서드로 진입 가능하며, ReactiveInsertOperation interface 내에서는 TerminatingInsert, InsertWithTable 타입을 통해서 각자 체이닝이 가능하도록 되어 있습니다."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{placeholder:"blur",src:l})}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"into-쿼리",children:"into 쿼리"}),"\n",(0,a.jsxs)(t.p,{children:["into 메서드 내에는 Query 를 실행해야 할 타겟 테이블 명을 전달합니다. String, SqlIdentifer 형태로 전달 가능하며, into가 제공되지 않을 경우 insert() 메서드 내부 정의에 따라 domainType 의 class 명 또는 @Table 애노테이션을 통해서 table 이름이 적용됩니다.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(t.h3,{id:"using-쿼리",children:"using 쿼리"}),"\n",(0,a.jsxs)(t.p,{children:["insert 쿼리에서 사용할 Entity 를 using 절에 전달합니다. 전달받은 Entity 는 OutboundRow 로 변환되며, 변환된 OutboundRow 를 통해 쿼리가 실행됩니다.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"eg",children:"e.g."}),"\n",(0,a.jsx)(t.pre,{"data-language":"java","data-theme":"default",children:(0,a.jsx)(t.code,{"data-language":"java","data-theme":"default",children:(0,a.jsx)(t.span,{className:"line",children:" "})})}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"select-쿼리-reactiveselectoperation",children:"select 쿼리 (ReactiveSelectOperation)"}),"\n",(0,a.jsx)(t.p,{children:"Insert 쿼리는 아래와 같은 방식으로 체이닝을 거칠 수 있습니다."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{placeholder:"blur",src:p})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"select → from → as → matching → 실행"}),"\n",(0,a.jsx)(t.li,{children:"select → from → matching → 실행"}),"\n",(0,a.jsx)(t.li,{children:"select → as → matching → 실행"}),"\n",(0,a.jsx)(t.li,{children:"select → matching → 실행"}),"\n",(0,a.jsx)(t.li,{children:"select → 실행"}),"\n"]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"내부-정의-1",children:"내부 정의"}),"\n",(0,a.jsx)(t.p,{children:"ReactiveSelectOperation 의 소스코드를 보면 아래와 같이 되어 있습니다. ReactiveSelectOperation 의 진입점은 select() 메서드로 진입 가능하며, ReactiveSelectOperation interface 내에서는 TerminatingSelect, SelectWithQuery, SelectWithProjection, SelectWithTable 타입을 통해서 각자 체이닝이 가능하도록 되어 있습니다."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{placeholder:"blur",src:g})}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"from-쿼리",children:"from 쿼리"}),"\n",(0,a.jsxs)(t.p,{children:["from() 메서드에는 query 를 실행할 타겟 테이블의 이름을 전달해줘야 합니다. String, SqlIdentifer 형태로 전달 가능하며, from() 메서드가 제공되지 않을 경우 select() 메서드 내부 정의에 따라 domainType 의 class 명 또는 @Table 애노테이션을 통해서 table 이름이 적용됩니다.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"as-쿼리",children:"as 쿼리"}),"\n",(0,a.jsxs)(t.p,{children:["Entity 의 모든 필드를 매핑하는 것이 아닌 특정 필드만 mapping 하려고 할 때 사용합니다. 흔히 이야기하는 프로젝션(Projection)을 하고자 할 때 사용합니다. Entity 의 일부 필드만 담고 있는 서브 클래스를 넘겨서 projection 이 가능합니다. ",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(t.h3,{id:"matching-쿼리",children:"matching 쿼리"}),"\n",(0,a.jsxs)(t.p,{children:["Select 쿼리의 where 문에 해당합니다. ",(0,a.jsx)(t.code,{children:"Query"})," 객체를 전달해서 Query 의 where 에 해당하는 조건식을 설정합니다.",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(t.h3,{id:"termination-쿼리",children:"termination 쿼리"}),"\n",(0,a.jsx)(t.p,{children:"count, exists, first, one, all 등과 같은 연산을 수행하는 쿼리입니다."}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"count() : 조회하려는 데이터 row 의 개수를 반환합니다"}),"\n",(0,a.jsx)(t.li,{children:"exists() : 조건에 맞는 데이터 row 가 존재하는지 여부를 체크해서 반환합니다."}),"\n",(0,a.jsx)(t.li,{children:"first() : 조건에 맞는 첫번째 row 를 반환합니다."}),"\n",(0,a.jsx)(t.li,{children:"one() : 조건에 맞는 하나의 row 를 반환합니다. 하나 이상의 row 가 매칭될 경우 Exception 이 발생합니다."}),"\n",(0,a.jsx)(t.li,{children:"all() : 조건에 맞는 모든 row 를 반환합니다."}),"\n"]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"eg-1",children:"e.g."}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.h3,{id:"update-쿼리-reactiveupdateoperation",children:"update 쿼리 (ReactiveUpdateOperation)"}),"\n",(0,a.jsx)(t.h3,{id:"delete-쿼리-reactivedeleteoperation",children:"delete 쿼리 (ReactiveDeleteOperation)"}),"\n",(0,a.jsx)(t.h2,{id:"r2dbcentityoperations",children:"R2dbcEntityOperations"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://docs.spring.io/spring-data/r2dbc/docs/current/api/org/springframework/data/r2dbc/core/R2dbcEntityOperations.html",children:"R2dbcEntityOperations"})," 는 위에서 살펴본 FluentR2dbcOperations 에서 제공하는 insert, select, update, delete 연산에 대한 Operation 들 외에도 다양한 종류의 쿼리를 수행할 수 있도록 다양한 메서드 들을 제공하고 있습니다."]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"count (Query, Class<?> entityClass)"}),"\n",(0,a.jsx)(t.li,{children:"delete (Query, Class<?> entityClass), delete (T)"}),"\n",(0,a.jsx)(t.li,{children:"exists (Query, Class<?> entityClass)"}),"\n",(0,a.jsx)(t.li,{children:"insert (T)"}),"\n",(0,a.jsx)(t.li,{children:"select (Query, Class<?> entityClass)"}),"\n",(0,a.jsx)(t.li,{children:"selectOne (Query, Class<?> entityClass)"}),"\n",(0,a.jsx)(t.li,{children:"update (Query, Class<?> entityClass), update (T)"}),"\n",(0,a.jsx)(t.li,{children:"query (PreparedOperation<?> operation, Class<?> entityClass, Class <T> resultType) 및 다양한 오버로딩 된 query(...) 메서드 들"}),"\n"]})]})}let b={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,s.a)(),e.components);return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations.mdx",route:"/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations",timestamp:171210198e4,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive",children:[{kind:"MdxPage",name:"aggregation-pipeline",route:"/spring-data-mongodb-reactive/aggregation-pipeline"},{kind:"MdxPage",name:"document-bson-bson-codec",route:"/spring-data-mongodb-reactive/document-bson-bson-codec"},{kind:"MdxPage",name:"entity",route:"/spring-data-mongodb-reactive/entity"},{kind:"MdxPage",name:"mongo-collection-functions",route:"/spring-data-mongodb-reactive/mongo-collection-functions"},{kind:"MdxPage",name:"mongodb-features",route:"/spring-data-mongodb-reactive/mongodb-features"},{kind:"MdxPage",name:"mongodb-reactive-streams-driver",route:"/spring-data-mongodb-reactive/mongodb-reactive-streams-driver"},{kind:"MdxPage",name:"mongodb-tools",route:"/spring-data-mongodb-reactive/mongodb-tools"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-mongodb-reactive/query-methods"},{kind:"MdxPage",name:"reactive-mongo-operation",route:"/spring-data-mongodb-reactive/reactive-mongo-operation"},{kind:"MdxPage",name:"reactive-mongo-repository",route:"/spring-data-mongodb-reactive/reactive-mongo-repository"},{kind:"MdxPage",name:"reactive-mongo-template",route:"/spring-data-mongodb-reactive/reactive-mongo-template"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-mongodb-reactive/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-mongodb-reactive/transactional-transactional-operator"},{kind:"Meta",data:{"mongodb-features":"MongoDB Features","mongodb-tools":"MongoDB 접근 도구들","mongodb-reactive-streams-driver":"MongoDB Reactive Streams Driver","mongo-collection-functions":"MongoCollection 의 다양한 연산들","document-bson-bson-codec":"Document, BSON, BSON Codec",entity:"Entity","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객채생성 방식과 매핑방식","reactive-mongo-template":"ReactiveMongoTemplate","reactive-mongo-operation":"ReactiveMongoOperation","reactive-mongo-repository":"ReactiveMongoRepository","query-methods":"Query 메서드","aggregation-pipeline":"Aggregation Pipeline","transactional-transactional-operator":"@Transactional, TransactionalOperator"}}]},{kind:"MdxPage",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive"},{kind:"Folder",name:"spring-data-r2dbc",route:"/spring-data-r2dbc",children:[{kind:"MdxPage",name:"entity-mysql-type-mapping",route:"/spring-data-r2dbc/entity-mysql-type-mapping"},{kind:"MdxPage",name:"example-mysql-docker-container",route:"/spring-data-r2dbc/example-mysql-docker-container"},{kind:"MdxPage",name:"jdbc-jpa-vs-r2dbc",route:"/spring-data-r2dbc/jdbc-jpa-vs-r2dbc"},{kind:"MdxPage",name:"mysql-features",route:"/spring-data-r2dbc/mysql-features"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-r2dbc/query-methods"},{kind:"MdxPage",name:"r2dbc-drivers-r2dbc-spi",route:"/spring-data-r2dbc/r2dbc-drivers-r2dbc-spi"},{kind:"MdxPage",name:"r2dbc-entity-template-r2dbc-entity-operations",route:"/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations"},{kind:"MdxPage",name:"r2dbc-repository",route:"/spring-data-r2dbc/r2dbc-repository"},{kind:"MdxPage",name:"simple-r2dbc-code",route:"/spring-data-r2dbc/simple-r2dbc-code"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-r2dbc/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-r2dbc/transactional-transactional-operator"},{kind:"Meta",data:{"mysql-features":"MySQL 특징","jdbc-jpa-vs-r2dbc":"JDBC, JPA 와의 차이점","r2dbc-drivers-r2dbc-spi":"R2DBC 드라이버, R2DBC SPI, Connection 설정","simple-r2dbc-code":"R2DBC 기반 Raw 레벨 코드, Transaction","entity-mysql-type-mapping":"Entity, MySQL 타입 매핑","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객체생성 방식과 필드 매핑방식","r2dbc-repository":"R2dbcRepository","query-methods":"Query Methods","transactional-transactional-operator":"@Transactional, TransactionalOperator","r2dbc-entity-template-r2dbc-entity-operations":"R2dbcEntityTemplate, R2dbcEntityOperations","example-mysql-docker-container":"예제 용도의 MySQL Docker Container"}}]},{kind:"MdxPage",name:"spring-data-r2dbc",route:"/spring-data-r2dbc"},{kind:"Folder",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive",children:[{kind:"MdxPage",name:"known-cache-strategies",route:"/spring-data-redis-reactive/known-cache-strategies"},{kind:"MdxPage",name:"redis-data-structures",route:"/spring-data-redis-reactive/redis-data-structures"},{kind:"MdxPage",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive/spring-data-redis-reactive"},{kind:"Meta",data:{"redis-data-structures":"레디스 자료구조들","spring-data-redis-reactive":"Spring Data Redis Reactive","known-cache-strategies":"캐싱전략의 종류"}}]},{kind:"MdxPage",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive"},{kind:"Meta",data:{index:"Introduction","spring-data-r2dbc":"Spring Data R2dbc","spring-data-mongodb-reactive":"Spring Data MongoDB Reactive","spring-data-redis-reactive":"Spring Data Redis Reactive",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"R2dbc Entity Template R2dbc Entity Operations",headings:h},pageNextRoute:"/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations",nextraLayout:r.ZP,themeConfig:d.Z};var u=(0,i.j)(b)},8426:function(e,t,n){"use strict";var a=n(5893);n(7294);let i={logo:(0,a.jsx)("span",{children:"Docs Spring Data Reactive"}),project:{link:"https://github.com/chagchagchag/docs-spring-data-reactive"},docsRepositoryBase:"https://github.com/chagchagchag/docs-spring-data-reactive",footer:{text:"Nextra Docs Template"}};t.Z=i},5789:function(){}},function(e){e.O(0,[774,796,888,179],function(){return e(e.s=8744)}),_N_E=e.O()}]);