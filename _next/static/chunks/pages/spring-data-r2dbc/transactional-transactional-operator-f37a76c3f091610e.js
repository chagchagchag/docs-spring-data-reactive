(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{5878:function(s,o,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spring-data-r2dbc/transactional-transactional-operator",function(){return e(492)}])},492:function(s,o,e){"use strict";e.r(o),e.d(o,{__toc:function(){return k},default:function(){return p}});var r=e(5893),n=e(2673),l=e(373),i=e(8426);e(9128);var t=e(2643),a={src:"/docs-spring-data-reactive/_next/static/media/transactional-annotation-log.5585768a.png",height:1570,width:2755,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAbklEQVR42g3ESQrCQBAAwJ7eYkQR8x/1/3fxEwEFnSCZ6SWpQ5XH7S4srKsomTtAuhtAx8LUE3TIaRrPJzwMTbVlruzmIoRI709dli8huf+fL8NaF2beqz8o5Zp5medyHAMTdtlbmnGmRoiHRMAG0gk7MdpWrDIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},c={src:"/docs-spring-data-reactive/_next/static/media/transactional-operator-transational-log.867e4e20.png",height:1471,width:2765,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAX0lEQVR42gVASxKCMAxNYwIrV+h18P7H0B0sdASavJZ+mPCaZyadnml6iHv5bzWEtiwQYm4UculIsu9mBnhd187xMFUGxs/bvj+mfo+xOVzymYkIoFp0GIezdHOVW7oA5CQ6RhyfSIwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4},h={src:"/docs-spring-data-reactive/_next/static/media/transactional-operator-execute-log.cac72168.png",height:1461,width:2757,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAYklEQVR42gUAQQ6DIKxAXTQZh3lasq942//foFcOxsTQVkBa4/7LooDfX53e/r47mBrovgv24WXmpPqhTTmfqhdLZzIUlhhjuTBxbk0Djikd69Z8KSVgIPJEI7i51siM8wceYrs5vRN1OZcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4};let k=[{depth:2,value:"@Transactional, TransactionalOperator",id:"transactional-transactionaloperator"},{depth:2,value:"mysql",id:"mysql"},{depth:2,value:"application.yml",id:"applicationyml"},{depth:2,value:"Book, BookFactory",id:"book-bookfactory"},{depth:3,value:"Book.java",id:"bookjava"},{depth:3,value:"BookFactory",id:"bookfactory"},{depth:2,value:"Repository",id:"repository"},{depth:2,value:"@Transactional 방식의 트랜잭션",id:"transactional-방식의-트랜잭션"},{depth:3,value:"BookService.java",id:"bookservicejava"},{depth:3,value:"테스트 코드",id:"테스트-코드"},{depth:3,value:"출력결과",id:"출력결과"},{depth:2,value:"TransactionalOperator (1) : transactional()",id:"transactionaloperator-1--transactional"},{depth:3,value:"BookService.java",id:"bookservicejava-1"},{depth:3,value:"테스트 코드",id:"테스트-코드-1"},{depth:3,value:"출력결과",id:"출력결과-1"},{depth:2,value:"TransactionalOperator (2) : execute()",id:"transactionaloperator-2--execute"},{depth:3,value:"BookService.java",id:"bookservicejava-2"},{depth:3,value:"테스트 코드",id:"테스트-코드-2"},{depth:3,value:"출력결과",id:"출력결과-2"}];function _createMdxContent(s){let o=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",pre:"pre",code:"code",span:"span",h3:"h3",img:"img"},(0,t.a)(),s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.h2,{id:"transactional-transactionaloperator",children:"@Transactional, TransactionalOperator"}),"\n",(0,r.jsx)(o.p,{children:"Spring Data R2dbc 에서 Transactional 기반의 연산을 하는 방식은 아래와 같이 두가지 방식이 있습니다."}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"@Transactional 애노테이션을 사용하는 방식"}),"\n",(0,r.jsxs)(o.li,{children:["TransactionalOperator 를 사용하는 방식","\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"transactional() 메서드 사용"}),"\n",(0,r.jsx)(o.li,{children:"execute() 메서드 사용"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h2,{id:"mysql",children:"mysql"}),"\n",(0,r.jsx)(o.p,{children:"mysql 은 아래의 도커 환경을 사용했습니다."}),"\n",(0,r.jsx)(o.pre,{"data-language":"yaml","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"version"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'3.7'"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"services"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example-mysql"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"image"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"mysql:5.7.39-debian"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"restart"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"always"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"#    command: --lower_case_table_names=1"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"container_name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"example-mysql"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"hostname"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"example-mysql"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ports"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"23306:3306"'})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"environment"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"MYSQL_USER=user"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"MYSQL_USER_HOST=%"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"MYSQL_PASSWORD=test1357"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"MYSQL_DATABASE=example"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"MYSQL_ROOT_HOST=%"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"MYSQL_ROOT_PASSWORD=test1357"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TZ=UTC"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"command"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"--character-set-server=utf8mb4"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"--collation-server=utf8mb4_unicode_ci"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"volumes"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      - "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"./init/:/docker-entrypoint-initdb.d/"})]})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.p,{children:"샘플 스키마 및 데이터 INSERT"}),"\n",(0,r.jsx)(o.pre,{"data-language":"sql","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"sql","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"CREATE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TABLE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"IF"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"NOT"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"EXISTS"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" example.book"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    id           "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"bigint"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" auto_increment"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"primary key"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"         "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"varchar"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"30"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"not null"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"character"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"set"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" utf8 "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"collate"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" utf8_general_ci;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"INSERT INTO"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" example.author("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"VALUES"})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    ("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'찰스'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    ("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1박2일 편집부'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    ("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'생로병사 편집부'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    ("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'EBS'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    ("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'내셔널지오그래픽'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"CREATE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TABLE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"IF"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"NOT"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"EXISTS"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" example.book"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    id           "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"bigint"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" auto_increment"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"primary key"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"         "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"varchar"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"30"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"not null"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    price        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"bigint"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"null"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    published_at "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"datetime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"null"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    sale_status  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"varchar"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"20"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"not null"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    author_id    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"bigint"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"not null"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"character"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"set"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" utf8 "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"collate"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" utf8_general_ci;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"INSERT INTO"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" example.book("})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", price, published_at, sale_status, author_id"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"VALUES"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'바람과 함께 사라지다'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"11000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1950-01-01 00:00:00'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'HOLD'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'바람과 함께 사라지다'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"12000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1950-01-02 00:00:00'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'HOLD'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'바람과 함께 사라지다'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"13000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1950-01-03 00:00:00'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'FOR_SALE'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'바람과 함께 사라지다'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"14000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1950-01-04 00:00:00'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'FOR_SALE'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"),"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'바람과 함께 사라지다'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"15000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'1950-01-05 00:00:00'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'FOR_SALE'"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})})]})}),"\n",(0,r.jsx)(o.h2,{id:"applicationyml",children:"application.yml"}),"\n",(0,r.jsxs)(o.p,{children:["로그 내에서 TRACE 레벨로 transaction 이 시작하고 종료됨을 확인하기 위해서 ",(0,r.jsx)(o.code,{children:"src/test/resources/application.yml"})," 에 아래의 내용을 추가해줍니다."]}),"\n",(0,r.jsx)(o.pre,{"data-language":"yaml","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"logging"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"level"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.reactive"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.interceptor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.ReactiveTransactionManager"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.reactive.TransactionalOperator"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.reactive.TransactionalOperatorImpl"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.reactive.TransactionSynchronizationManager"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.reactive.TransactionCallback"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.transaction.reactive.TransactionContextManager"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io.asyncer.r2dbc.mysql.QUERY"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"trace"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io.asyncer.r2dbc.mysql.MySqlConnection"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"trace"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"#    io.asyncer.r2dbc.mysql.client: trace"})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org.springframework.r2dbc.connection.R2dbcTransactionManager"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:"TRACE"})]})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h2,{id:"book-bookfactory",children:"Book, BookFactory"}),"\n",(0,r.jsx)(o.p,{children:"엔티티는 Book.java 라고 하는 클래스이며, 이 엔티티 객체를 생성하는 것은 BookFactory 라는 클래스에서 담당합니다."}),"\n",(0,r.jsx)(o.h3,{id:"bookjava",children:"Book.java"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"AccessLevel"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"AllArgsConstructor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Getter"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"NoArgsConstructor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"data"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Id"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"data"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"relational"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mapping"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Table"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Table"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Getter"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"NoArgsConstructor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(access "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"AccessLevel"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"PRIVATE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"AllArgsConstructor"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Id"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Long"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" id;"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name;"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:'//  @Column("published_at") // snake case 와 camel case 가 정확히 일치하면 생략 가능'})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:'//  @Column("sale_status") // snake case 와 camel case 가 정확히 일치하면 생략 가능'})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)(o.h3,{id:"bookfactory",children:"BookFactory"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Component"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Component"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"of"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Long"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" id"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"Book(id"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" publishedAt"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" saleStatus)"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBook"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"of("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"null"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" publishedAt"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"WAITING_FOR_SALE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:")"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"of("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getId()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getName()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getPrice()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getPublishedAt()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getSaleStatus())"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h2,{id:"repository",children:"Repository"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"data"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ReactiveCrudRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"ReactiveCrudRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Long"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> {"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h2,{id:"transactional-방식의-트랜잭션",children:"@Transactional 방식의 트랜잭션"}),"\n",(0,r.jsx)(o.h3,{id:"bookservicejava",children:"BookService.java"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"FOR_SALE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extern"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"publisher"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookSaveRepository;"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookFactory;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBook"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Long"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" authorId){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" newBook "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBook"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"now"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" authorId);"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(newBook)"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"flatMap"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" forSale "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" FOR_SALE);"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(forSale);"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        })"})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"thenMany"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"findAll"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h3,{id:"테스트-코드",children:"테스트 코드"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stream"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Collectors"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LoggerFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"beans"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"context"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookSaveRepositoryExampleTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" log "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LoggerFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getLogger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BookSaveRepositoryExampleTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookService;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TRANSACTIONAL_ANNOTATION__SAVE_NEW_BOOK"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"TEST_TRANSACTIONAL_ANNOTATION__SAVE_NEW_BOOK"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// given"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// when"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// then"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"save start >>> "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> result "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookService"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBook"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"생각이 너무 많은 어른들을 위한 심리학"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"valueOf"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"2000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"1L"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toStream"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"collect"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"Collectors"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toList"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"save end <<< "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"after result >>> "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"result"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"forEach"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"book.name = {}, book.price ={}, book.saleStatus = {}, book.authorId = {}"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getPrice"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getSaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getAuthorId"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      );"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    });"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h3,{id:"출력결과",children:"출력결과"}),"\n",(0,r.jsx)(o.p,{children:"출력결과를 보면 Transaction 이 정상적으로 수행됨을 확인 가능합니다."}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{placeholder:"blur",src:a})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h2,{id:"transactionaloperator-1--transactional",children:"TransactionalOperator (1) : transactional()"}),"\n",(0,r.jsxs)(o.p,{children:["이번에는 TransactionalOperator 의 transactional() 메서드를 이용해서 트랜잭션을 처리하는 코드입니다.",(0,r.jsx)("br",{})]}),"\n",(0,r.jsx)(o.h3,{id:"bookservicejava-1",children:"BookService.java"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"FOR_SALE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extern"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"publisher"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookSaveRepository;"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookFactory;"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" transactionalOperator;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookTransactionalOperator1"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Long"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" authorId){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" newBook "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBook"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"now"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" authorId);"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> flux "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(newBook)"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"flatMap"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" forSale "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" FOR_SALE);"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(forSale);"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        })"})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"thenMany"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"findAll"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"transactionalOperator"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"transactional"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(flux);"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h3,{id:"테스트-코드-1",children:"테스트 코드"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stream"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Collectors"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LoggerFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"beans"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"context"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookSaveRepositoryExampleTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" log "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LoggerFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getLogger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BookSaveRepositoryExampleTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookService;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TEST_트랜잭셔널_오퍼레이터의_transactional_메서드로_트랜잭션_수행"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"TEST_트랜잭셔널_오퍼레이터의_transactional_메서드로_트랜잭션_수행"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// given"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// when"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// then"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"save start >>> "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> result "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookService"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookTransactionalOperator1"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"ETS 토익 정기시험 기출문제집"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"valueOf"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"2000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"1L"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toStream"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"collect"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"Collectors"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toList"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"save end <<< "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"after result >>> "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"result"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"forEach"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"book.name = {}, book.price ={}, book.saleStatus = {}, book.authorId = {}"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getPrice"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getSaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getAuthorId"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      );"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    });"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h3,{id:"출력결과-1",children:"출력결과"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{placeholder:"blur",src:c})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h2,{id:"transactionaloperator-2--execute",children:"TransactionalOperator (2) : execute()"}),"\n",(0,r.jsx)(o.h3,{id:"bookservicejava-2",children:"BookService.java"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"FOR_SALE"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extern"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactor"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"publisher"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookSaveRepository;"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookFactory;"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" transactionalOperator;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookTransactionalOperator2"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Long"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" authorId){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" newBook "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBook"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(name"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LocalDateTime"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"now"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" authorId);"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> flux "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(newBook)"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"flatMap"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" forSale "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" FOR_SALE);"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(forSale);"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        })"})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"thenMany"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookSaveRepository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"findAll"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"transactionalOperator"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"execute"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(status "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" flux);"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h3,{id:"테스트-코드-2",children:"테스트 코드"}),"\n",(0,r.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,r.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"entity"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"r2dbc_example"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"service"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stream"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Collectors"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LoggerFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"beans"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"context"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookSaveRepositoryExampleTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" log "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LoggerFactory"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getLogger"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BookSaveRepositoryExampleTest"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookService"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookService;"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TEST_트랜잭셔널_오퍼레이터의_execute_메서드로_트랜잭션_수행"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"TEST_트랜잭셔널_오퍼레이터의_execute_메서드로_트랜잭션_수행"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// given"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// when"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// then"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"save start >>> "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> result "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookService"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookTransactionalOperator2"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"퓨처 셀프"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BigDecimal"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"valueOf"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"2000"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"1L"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toStream"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"collect"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"Collectors"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toList"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"save end <<< "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsx)(o.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"after result >>> "'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"result"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"forEach"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"book.name = {}, book.price ={}, book.saleStatus = {}, book.authorId = {}"'}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(o.span,{className:"line",children:[(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getName"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getPrice"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getSaleStatus"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"book"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getAuthorId"}),(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      );"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    });"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(o.span,{className:"line",children:(0,r.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(o.h3,{id:"출력결과-2",children:"출력결과"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{placeholder:"blur",src:h})})]})}let d={MDXContent:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:o}=Object.assign({},(0,t.a)(),s.components);return o?(0,r.jsx)(o,{...s,children:(0,r.jsx)(_createMdxContent,{...s})}):_createMdxContent(s)},pageOpts:{filePath:"pages/spring-data-r2dbc/transactional-transactional-operator.mdx",route:"/spring-data-r2dbc/transactional-transactional-operator",timestamp:1712045512e3,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive",children:[{kind:"MdxPage",name:"aggregation-pipeline",route:"/spring-data-mongodb-reactive/aggregation-pipeline"},{kind:"MdxPage",name:"document-bson-bson-codec",route:"/spring-data-mongodb-reactive/document-bson-bson-codec"},{kind:"MdxPage",name:"entity",route:"/spring-data-mongodb-reactive/entity"},{kind:"MdxPage",name:"mongo-collection-functions",route:"/spring-data-mongodb-reactive/mongo-collection-functions"},{kind:"MdxPage",name:"mongodb-features",route:"/spring-data-mongodb-reactive/mongodb-features"},{kind:"MdxPage",name:"mongodb-reactive-streams-driver",route:"/spring-data-mongodb-reactive/mongodb-reactive-streams-driver"},{kind:"MdxPage",name:"mongodb-tools",route:"/spring-data-mongodb-reactive/mongodb-tools"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-mongodb-reactive/query-methods"},{kind:"MdxPage",name:"reactive-mongo-operation",route:"/spring-data-mongodb-reactive/reactive-mongo-operation"},{kind:"MdxPage",name:"reactive-mongo-repository",route:"/spring-data-mongodb-reactive/reactive-mongo-repository"},{kind:"MdxPage",name:"reactive-mongo-template",route:"/spring-data-mongodb-reactive/reactive-mongo-template"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-mongodb-reactive/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-mongodb-reactive/transactional-transactional-operator"},{kind:"Meta",data:{"mongodb-features":"MongoDB Features","mongodb-tools":"MongoDB 접근 도구들","mongodb-reactive-streams-driver":"MongoDB Reactive Streams Driver","mongo-collection-functions":"MongoCollection 의 다양한 연산들","document-bson-bson-codec":"Document, BSON, BSON Codec",entity:"Entity","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객채생성 방식과 매핑방식","reactive-mongo-template":"ReactiveMongoTemplate","reactive-mongo-operation":"ReactiveMongoOperation","reactive-mongo-repository":"ReactiveMongoRepository","query-methods":"Query 메서드","aggregation-pipeline":"Aggregation Pipeline","transactional-transactional-operator":"@Transactional, TransactionalOperator"}}]},{kind:"MdxPage",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive"},{kind:"Folder",name:"spring-data-r2dbc",route:"/spring-data-r2dbc",children:[{kind:"MdxPage",name:"entity-mysql-type-mapping",route:"/spring-data-r2dbc/entity-mysql-type-mapping"},{kind:"MdxPage",name:"example-mysql-docker-container",route:"/spring-data-r2dbc/example-mysql-docker-container"},{kind:"MdxPage",name:"jdbc-jpa-vs-r2dbc",route:"/spring-data-r2dbc/jdbc-jpa-vs-r2dbc"},{kind:"MdxPage",name:"mysql-features",route:"/spring-data-r2dbc/mysql-features"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-r2dbc/query-methods"},{kind:"MdxPage",name:"r2dbc-drivers-r2dbc-spi",route:"/spring-data-r2dbc/r2dbc-drivers-r2dbc-spi"},{kind:"MdxPage",name:"r2dbc-entity-template-r2dbc-entity-operations",route:"/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations"},{kind:"MdxPage",name:"r2dbc-repository",route:"/spring-data-r2dbc/r2dbc-repository"},{kind:"MdxPage",name:"simple-r2dbc-code",route:"/spring-data-r2dbc/simple-r2dbc-code"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-r2dbc/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-r2dbc/transactional-transactional-operator"},{kind:"Meta",data:{"mysql-features":"MySQL 특징","jdbc-jpa-vs-r2dbc":"JDBC, JPA 와의 차이점","r2dbc-drivers-r2dbc-spi":"R2DBC 드라이버, R2DBC SPI, Connection 설정","simple-r2dbc-code":"R2DBC 기반 Raw 레벨 코드, Transaction","entity-mysql-type-mapping":"Entity, MySQL 타입 매핑","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객체생성 방식과 필드 매핑방식","r2dbc-repository":"R2dbcRepository","query-methods":"Query Methods","transactional-transactional-operator":"@Transactional, TransactionalOperator","r2dbc-entity-template-r2dbc-entity-operations":"R2dbcEntityTemplate, R2dbcEntityOperations, FluentR2dbcOperations","example-mysql-docker-container":"예제 용도의 MySQL Docker Container"}}]},{kind:"MdxPage",name:"spring-data-r2dbc",route:"/spring-data-r2dbc"},{kind:"Folder",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive",children:[{kind:"MdxPage",name:"known-cache-strategies",route:"/spring-data-redis-reactive/known-cache-strategies"},{kind:"MdxPage",name:"luttuce-examples",route:"/spring-data-redis-reactive/luttuce-examples"},{kind:"MdxPage",name:"redis-connector",route:"/spring-data-redis-reactive/redis-connector"},{kind:"MdxPage",name:"redis-data-structures",route:"/spring-data-redis-reactive/redis-data-structures"},{kind:"MdxPage",name:"redis-replication-sentinel-cluster",route:"/spring-data-redis-reactive/redis-replication-sentinel-cluster"},{kind:"MdxPage",name:"spring-data-redis-reactive-redis-operations",route:"/spring-data-redis-reactive/spring-data-redis-reactive-redis-operations"},{kind:"Meta",data:{"redis-replication-sentinel-cluster":"Redis Replication,Sentinel, Cluster","redis-connector":"Redis Connector (Lettuce, Jedis)","redis-data-structures":"레디스 자료구조들","luttuce-examples":"luttuce 기반 예제 코드들","spring-data-redis-reactive-redis-operations":"Spring Data Redis Reactive, RedisOperations","known-cache-strategies":"캐싱전략의 종류"}}]},{kind:"MdxPage",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive"},{kind:"Meta",data:{index:"Introduction","spring-data-r2dbc":"Spring Data R2dbc","spring-data-mongodb-reactive":"Spring Data MongoDB Reactive","spring-data-redis-reactive":"Spring Data Redis Reactive",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"Transactional Transactional Operator",headings:k},pageNextRoute:"/spring-data-r2dbc/transactional-transactional-operator",nextraLayout:l.ZP,themeConfig:i.Z};var p=(0,n.j)(d)},8426:function(s,o,e){"use strict";var r=e(5893);e(7294);let n={logo:(0,r.jsx)("span",{children:"Docs Spring Data Reactive"}),project:{link:"https://github.com/chagchagchag/docs-spring-data-reactive"},docsRepositoryBase:"https://github.com/chagchagchag/docs-spring-data-reactive",footer:{text:"Nextra Docs Template"}};o.Z=n},5789:function(){}},function(s){s.O(0,[774,796,888,179],function(){return s(s.s=5878)}),_N_E=s.O()}]);