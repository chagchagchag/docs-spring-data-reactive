(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{6472:function(s,o,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spring-data-mongodb-reactive/transactional-transactional-operator",function(){return e(7489)}])},7489:function(s,o,e){"use strict";e.r(o),e.d(o,{__toc:function(){return a}});var n=e(5893),r=e(2673),l=e(373),i=e(8426);e(9128);var t=e(2643);let a=[{depth:2,value:"Transactional, TransactionalOperator",id:"transactional-transactionaloperator"},{depth:2,value:"Document 객체 생성 코드",id:"document-객체-생성-코드"},{depth:3,value:"BookDocument.java",id:"bookdocumentjava"},{depth:3,value:"BookDocumentFactory.java",id:"bookdocumentfactoryjava"},{depth:2,value:"Repository",id:"repository"},{depth:2,value:"@Transactional 애노테이션 방식의 트랜잭션 연산",id:"transactional-애노테이션-방식의-트랜잭션-연산"},{depth:3,value:"BookDocumentService.java",id:"bookdocumentservicejava"},{depth:3,value:"테스트 코드",id:"테스트-코드"},{depth:2,value:"TransactionalOperator (1) : transactional() 사용방식",id:"transactionaloperator-1--transactional-사용방식"},{depth:2,value:"TransactionalOperator (2) : execute() 사용방식",id:"transactionaloperator-2--execute-사용방식"}];function _createMdxContent(s){let o=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",code:"code",h3:"h3",pre:"pre",span:"span"},(0,t.a)(),s.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h2,{id:"transactional-transactionaloperator",children:"Transactional, TransactionalOperator"}),"\n",(0,n.jsx)(o.p,{children:"Spring Data MongoDB Reactive 에서 Transactional 기반의 연산을 하는 방식은 아래와 같이 두가지 입니다."}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"@Transactional 애노테이션을 사용하는 방식"}),"\n",(0,n.jsxs)(o.li,{children:["TransactionalOperator 를 사용하는 방식","\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"transactional() 메서드 사용"}),"\n",(0,n.jsx)(o.li,{children:"execute() 메서드 사용"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsxs)(o.p,{children:["트랜잭션을 제대로 처음부터 공부해보신 분들이라면, 우리가 @Transactional 을 통해서 작성한 비즈니스 로직은 스프링 트랜잭션 코드 내에서 람다 형태로 콜백처럼 넘겨진다는 사실을 알고 계실 듯 합니다. 이 개념을 설명하려면 굉장히 많은 스토리를 들어서 설명해야 해서 동작 원리에 대해서 설명하는 것은 이번 문서에서는 건너뜁니다.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.p,{children:["이렇게 람다 형태로 비즈니스 로직을 스프링 트랜잭션 계층에 넘겨주면 스프링 트랜잭션은 이 람다 형태의 비즈니스 로직을 실행 전에 트랜잭션을 열고, 실행을 마친 후 트랜잭션을 닫는 동작을 내부적으로 수행해줍니다. 트랜잭션을 열고 닫는 일종의 보일러플레이트 코드를 체계화 한 것이라고 볼 수 있습니다. 사람이 직접 이런 코드를 작성한다면, 실수가 생길 수 있기 때문에 스프링의 트랜잭션 기능은 이런 휴먼에러를 방지할 수 있도록 친절한 코드를 가지고 있는 편입니다.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.p,{children:["이번문서에서는 @Transactional 을 이용한 전통적인 선언적인 방식의 트랜잭션 수행방식과, transactional() 메서드 또는 execute() 를 이용한 함수형 트랜잭션 수행방식을 살펴봅니다.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.h2,{id:"document-객체-생성-코드",children:"Document 객체 생성 코드"}),"\n",(0,n.jsxs)(o.p,{children:["객체 생성을 테스트하기 때문에 아래와 같이 Document 객체를 구성하고, 생성자를 준비해두었습니다. 현재 시점에서 ",(0,n.jsx)(o.code,{children:"@PersistenceCreator"})," 는 Spring Data MongoDB Reactive 의 버전에 따라서 상이하게 동작하기에 가급적이면 ",(0,n.jsx)(o.code,{children:"@PersistenceCreator"})," 를 사용하기보다는 비즈니스 로직에 맞는 팩토리 메서드 또는 팩토리 메서드를 모아둔 컴포넌트를 자체적으로 정의하는 것을 추천드립니다.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.h3,{id:"bookdocumentjava",children:"BookDocument.java"}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"AccessLevel"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Getter"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"NoArgsConstructor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"bson"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"types"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ObjectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"data"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mapping"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Document"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"data"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mapping"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Field"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"data"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mapping"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"FieldType"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"NoArgsConstructor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(access "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"AccessLevel"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"PRIVATE"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Getter"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Document"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(collection "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"book"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ObjectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" id;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Field"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(targetType "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"FieldType"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"DECIMAL128"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ObjectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" id"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  ){"})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"id"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" id;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"publishedAt"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"saleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.h3,{id:"bookdocumentfactoryjava",children:"BookDocumentFactory.java"}),"\n",(0,n.jsx)(o.p,{children:"이해하기 쉬운 코드이기 때문에 설명은 건너뛰도록 하겠습니다."}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"bson"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"types"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ObjectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Component"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Component"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"of"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ObjectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" objectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus){"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocument("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"        objectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" publishedAt"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" saleStatus"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"    )"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" publishedAt"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  ){"})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"of("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"null"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" publishedAt"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"WAITING_FOR_SALE"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"    )"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" saleStatus"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  ){"})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"of("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getId()"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getName()"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getPrice()"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getPublishedAt()"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:" saleStatus"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"    )"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.h2,{id:"repository",children:"Repository"}),"\n",(0,n.jsx)(o.p,{children:"BookDocumentTransactionRepository 라는 이름의 Repository 를 생성해두었습니다."}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"bson"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"types"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ObjectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"data"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"repository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ReactiveMongoRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"ReactiveMongoRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"ObjectId"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> {"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsxs)(o.h2,{id:"transactional-애노테이션-방식의-트랜잭션-연산",children:[(0,n.jsx)(o.code,{children:"@Transactional"})," 애노테이션 방식의 트랜잭션 연산"]}),"\n",(0,n.jsx)(o.h3,{id:"bookdocumentservicejava",children:"BookDocumentService.java"}),"\n",(0,n.jsx)(o.p,{children:"Repository 의 메서드를 호출하는 연산은 아래와 같습니다. 간단한 코드이기에 설명은 생략합니다."}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extern"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"publisher"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" documentFactory;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookDocumentTransactionRepository;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBook"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price){"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" book "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"documentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"now"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    );"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insert"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book)"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"flatMap"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(bookDocument "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" forSale "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"documentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"FOR_SALE"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(forSale);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        })"})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"thenMany"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"findAll"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.h3,{id:"테스트-코드",children:"테스트 코드"}),"\n",(0,n.jsx)(o.p,{children:"원래 제대로 작성하려면, 트랜잭션 코드 내에서 Unchecked Exception 이 일어나는 상황을 가정하고 일일이 테스트해야 하는데, 이번 문서의 목적이 비즈니스 로직 작성이 목적이 아니기에 세부적인 구현은 생략하고 단순한 동작테스트만 잘 되는지를 테스트 합니다."}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stream"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Collectors"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LoggerFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"beans"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"context"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentTransactionalTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" log "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LoggerFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getLogger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BookDocumentTransactionalTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" sut;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TEST_새로운_책을_트랜잭셔널_애노테이션을_이용해_저장_및_수정"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"TEST_새로운_책을_트랜잭셔널_애노테이션을_이용해_저장_및_수정"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// given"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// when"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// then"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"before save"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> result "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"sut"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBook"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"맛도리 여행"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"valueOf"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"3000"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"))"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toStream"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"collect"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"Collectors"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toList"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"after save, result = {}"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" result);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.p,{children:"출력결과"}),"\n",(0,n.jsx)(o.pre,{"data-language":"plain","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"plain","data-theme":"default",children:[(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"2024-04-01T11:28:56.126+09:00  INFO 497796 --- [main] .e.m.e.b.t.BookDocumentTransactionalTest : before save"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"2024-04-01T11:28:56.633+09:00  INFO 497796 --- [main] .e.m.e.b.t.BookDocumentTransactionalTest : after save, result = [io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@1835b783, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@456b140f, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@2459333a, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@1e6bd367, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@2bd7f686, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@3601549f]"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"Process finished with exit code 0"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.h2,{id:"transactionaloperator-1--transactional-사용방식",children:"TransactionalOperator (1) : transactional() 사용방식"}),"\n",(0,n.jsxs)(o.p,{children:["설명은 건너뛰도록 하겠습니다.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsx)(o.p,{children:"Service"}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extern"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"publisher"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" documentFactory;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookDocumentTransactionRepository;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" transactionalOperator;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookTransactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price){"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" book "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"documentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"now"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    );"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> flux "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insert"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book)"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"flatMap"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(bookDocument "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" forSale "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"documentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"FOR_SALE"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(forSale);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        })"})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"thenMany"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"findAll"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"transactionalOperator"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"transactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(flux);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.p,{children:"테스트"}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stream"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Collectors"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LoggerFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"beans"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"context"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentTransactionalTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" log "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LoggerFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getLogger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BookDocumentTransactionalTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" sut;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"새로운_책을_트랜잭셔널_메서드를_이용해서_저장_및_수정"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"TEST_새로운_책을_트랜잭셔널_메서드를_이용해서_저장_및_수정"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// given"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// when"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// then"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"before save"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> result "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"sut"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookTransactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"맛도리 여행"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"valueOf"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"3000"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"))"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toStream"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"collect"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"Collectors"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toList"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"after save, result = {}"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" result);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.p,{children:"출력결과"}),"\n",(0,n.jsx)(o.pre,{"data-language":"plain","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"plain","data-theme":"default",children:[(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"2024-04-01T11:48:03.934+09:00  INFO 613188 --- [main] .e.m.e.b.t.BookDocumentTransactionalTest : before save"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"2024-04-01T11:48:04.335+09:00  INFO 613188 --- [main] .e.m.e.b.t.BookDocumentTransactionalTest : after save, result = [io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@7affee54, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@96075c0, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@2337bf27, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@4679554d, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@43719e98, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@49353d43]"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"Process finished with exit code 0"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.h2,{id:"transactionaloperator-2--execute-사용방식",children:"TransactionalOperator (2) : execute() 사용방식"}),"\n",(0,n.jsx)(o.p,{children:"Service"}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"time"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"lombok"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"extern"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stereotype"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Transactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transaction"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactor"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"core"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"publisher"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Slf4j"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"RequiredArgsConstructor"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Service"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" documentFactory;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" bookDocumentTransactionRepository;"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"final"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"TransactionalOperator"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" transactionalOperator;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookExecute"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"String"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price){"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" book "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"documentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"newBookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        name"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" price"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LocalDateTime"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"now"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    );"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Flux"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> flux "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insert"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(book)"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"flatMap"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(bookDocument "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" forSale "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"documentFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"withSaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(bookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"SaleStatus"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"FOR_SALE"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(forSale);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        })"})}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"thenMany"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"bookDocumentTransactionRepository"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"findAll"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"transactionalOperator"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"execute"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(status "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" flux);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.p,{children:"테스트"}),"\n",(0,n.jsx)(o.pre,{"data-language":"java","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"java","data-theme":"default",children:[(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"transactional"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"example_mongo"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"mongodb_reactive_example"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"examples"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"book"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"math"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"java"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"util"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"stream"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Collectors"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"slf4j"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"LoggerFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"beans"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"context"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"SpringBootTest"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"BookDocumentTransactionalTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Logger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" log "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"LoggerFactory"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"getLogger"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BookDocumentTransactionalTest"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocumentService"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" sut;"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"DisplayName"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"새로운_책을_execute_메서드를_이용해서_저장_및_수정"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"TEST_새로운_책을_execute_메서드를_이용해서_저장_및_수정"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// given"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// when"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-comment)"},children:"// then"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"before save"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"List"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"BookDocument"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"> result "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"sut"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"insertNewBookExecute"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"맛도리 여행"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"BigDecimal"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"valueOf"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"3000"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"))"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toStream"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"collect"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"Collectors"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"toList"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,n.jsxs)(o.span,{className:"line",children:[(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-constant)"},children:"log"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-function)"},children:"info"}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"after save, result = {}"'}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:" result);"})]}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.p,{children:"출력결과"}),"\n",(0,n.jsx)(o.pre,{"data-language":"plain","data-theme":"default",children:(0,n.jsxs)(o.code,{"data-language":"plain","data-theme":"default",children:[(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"2024-04-01T11:50:29.258+09:00  INFO 627264 --- [main] .e.m.e.b.t.BookDocumentTransactionalTest : before save"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"2024-04-01T11:50:29.653+09:00  INFO 627264 --- [main] .e.m.e.b.t.BookDocumentTransactionalTest : after save, result = [io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@1835b783, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@456b140f, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@2459333a, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@1e6bd367, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@2bd7f686, io.chagchagchag.example_mongo.mongodb_reactive_example.examples.book.BookDocument@3601549f]"})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,n.jsx)(o.span,{className:"line",children:(0,n.jsx)(o.span,{style:{color:"var(--shiki-color-text)"},children:"Process finished with exit code 0"})})]})}),"\n",(0,n.jsx)("br",{})]})}let c={MDXContent:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:o}=Object.assign({},(0,t.a)(),s.components);return o?(0,n.jsx)(o,{...s,children:(0,n.jsx)(_createMdxContent,{...s})}):_createMdxContent(s)},pageOpts:{filePath:"pages/spring-data-mongodb-reactive/transactional-transactional-operator.mdx",route:"/spring-data-mongodb-reactive/transactional-transactional-operator",timestamp:1711940036e3,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive",children:[{kind:"MdxPage",name:"aggregation-pipeline",route:"/spring-data-mongodb-reactive/aggregation-pipeline"},{kind:"MdxPage",name:"document-bson-bson-codec",route:"/spring-data-mongodb-reactive/document-bson-bson-codec"},{kind:"MdxPage",name:"entity",route:"/spring-data-mongodb-reactive/entity"},{kind:"MdxPage",name:"mongo-collection-functions",route:"/spring-data-mongodb-reactive/mongo-collection-functions"},{kind:"MdxPage",name:"mongodb-features",route:"/spring-data-mongodb-reactive/mongodb-features"},{kind:"MdxPage",name:"mongodb-reactive-streams-driver",route:"/spring-data-mongodb-reactive/mongodb-reactive-streams-driver"},{kind:"MdxPage",name:"mongodb-tools",route:"/spring-data-mongodb-reactive/mongodb-tools"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-mongodb-reactive/query-methods"},{kind:"MdxPage",name:"reactive-mongo-operation",route:"/spring-data-mongodb-reactive/reactive-mongo-operation"},{kind:"MdxPage",name:"reactive-mongo-repository",route:"/spring-data-mongodb-reactive/reactive-mongo-repository"},{kind:"MdxPage",name:"reactive-mongo-template",route:"/spring-data-mongodb-reactive/reactive-mongo-template"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-mongodb-reactive/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-mongodb-reactive/transactional-transactional-operator"},{kind:"Meta",data:{"mongodb-features":"MongoDB Features","mongodb-tools":"MongoDB 접근 도구들","mongodb-reactive-streams-driver":"MongoDB Reactive Streams Driver","mongo-collection-functions":"MongoCollection 의 다양한 연산들","document-bson-bson-codec":"Document, BSON, BSON Codec",entity:"Entity","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객채생성 방식과 매핑방식","reactive-mongo-template":"ReactiveMongoTemplate","reactive-mongo-operation":"ReactiveMongoOperation","reactive-mongo-repository":"ReactiveMongoRepository","query-methods":"Query 메서드","aggregation-pipeline":"Aggregation Pipeline","transactional-transactional-operator":"@Transactional, TransactionalOperator"}}]},{kind:"MdxPage",name:"spring-data-mongodb-reactive",route:"/spring-data-mongodb-reactive"},{kind:"Folder",name:"spring-data-r2dbc",route:"/spring-data-r2dbc",children:[{kind:"MdxPage",name:"entity-mysql-type-mapping",route:"/spring-data-r2dbc/entity-mysql-type-mapping"},{kind:"MdxPage",name:"example-mysql-docker-container",route:"/spring-data-r2dbc/example-mysql-docker-container"},{kind:"MdxPage",name:"jdbc-jpa-vs-r2dbc",route:"/spring-data-r2dbc/jdbc-jpa-vs-r2dbc"},{kind:"MdxPage",name:"mysql-features",route:"/spring-data-r2dbc/mysql-features"},{kind:"MdxPage",name:"query-methods",route:"/spring-data-r2dbc/query-methods"},{kind:"MdxPage",name:"r2dbc-drivers-r2dbc-spi",route:"/spring-data-r2dbc/r2dbc-drivers-r2dbc-spi"},{kind:"MdxPage",name:"r2dbc-entity-template-r2dbc-entity-operations",route:"/spring-data-r2dbc/r2dbc-entity-template-r2dbc-entity-operations"},{kind:"MdxPage",name:"r2dbc-repository",route:"/spring-data-r2dbc/r2dbc-repository"},{kind:"MdxPage",name:"simple-r2dbc-code",route:"/spring-data-r2dbc/simple-r2dbc-code"},{kind:"MdxPage",name:"spring-data-object-mapping-and-creation",route:"/spring-data-r2dbc/spring-data-object-mapping-and-creation"},{kind:"MdxPage",name:"transactional-transactional-operator",route:"/spring-data-r2dbc/transactional-transactional-operator"},{kind:"Meta",data:{"mysql-features":"MySQL 특징","jdbc-jpa-vs-r2dbc":"JDBC, JPA 와의 차이점","r2dbc-drivers-r2dbc-spi":"R2DBC 드라이버, R2DBC SPI, Connection 설정","simple-r2dbc-code":"R2DBC 기반 Raw 레벨 코드, Transaction","entity-mysql-type-mapping":"Entity, MySQL 타입 매핑","spring-data-object-mapping-and-creation":"Spring Data Reactive 의 객체생성 방식과 필드 매핑방식","r2dbc-repository":"R2dbcRepository","query-methods":"Query Methods","transactional-transactional-operator":"@Transactional, TransactionalOperator","r2dbc-entity-template-r2dbc-entity-operations":"R2dbcEntityTemplate, R2dbcEntityOperations","example-mysql-docker-container":"예제 용도의 MySQL Docker Container"}}]},{kind:"MdxPage",name:"spring-data-r2dbc",route:"/spring-data-r2dbc"},{kind:"Folder",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive",children:[{kind:"MdxPage",name:"known-cache-strategies",route:"/spring-data-redis-reactive/known-cache-strategies"},{kind:"MdxPage",name:"redis-data-structures",route:"/spring-data-redis-reactive/redis-data-structures"},{kind:"MdxPage",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive/spring-data-redis-reactive"},{kind:"Meta",data:{"redis-data-structures":"레디스 자료구조들","spring-data-redis-reactive":"Spring Data Redis Reactive","known-cache-strategies":"캐싱전략의 종류"}}]},{kind:"MdxPage",name:"spring-data-redis-reactive",route:"/spring-data-redis-reactive"},{kind:"Meta",data:{index:"Introduction","spring-data-mongodb-reactive":"Spring Data MongoDB Reactive","spring-data-r2dbc":"Spring Data R2dbc","spring-data-redis-reactive":"Spring Data Redis Reactive",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"Transactional Transactional Operator",headings:a},pageNextRoute:"/spring-data-mongodb-reactive/transactional-transactional-operator",nextraLayout:l.ZP,themeConfig:i.Z};o.default=(0,r.j)(c)},8426:function(s,o,e){"use strict";var n=e(5893);e(7294);let r={logo:(0,n.jsx)("span",{children:"Docs Spring Data Reactive"}),project:{link:"https://github.com/chagchagchag/docs-spring-data-reactive"},docsRepositoryBase:"https://github.com/chagchagchag/docs-spring-data-reactive",footer:{text:"Nextra Docs Template"}};o.Z=r},5789:function(){}},function(s){s.O(0,[774,796,888,179],function(){return s(s.s=6472)}),_N_E=s.O()}]);